<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>

    <head th:replace="/fragments/head :: head"></head>
    <link rel="stylesheet" type="text/css" href="../static/css/index.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
    <header data-bs-theme="dark">
        <nav th:replace="/fragments/navbar :: nav"></nav>
    </header>

    <body>
        <h2>Selecciona un Rubro</h2>
        
        <form th:action="@{/filtrar}" method="post">
            <label for="rubros">Rubro:</label>
            <select id="rubros" name="rubro">
                <option th:each="r : ${rubros}" th:value="${r}" th:text="${r}"></option>
            </select>
            <button type="submit">Filtrar</button>
        </form>
        
        <!-- Contenido condicional para mostrar resultados -->
        <div th:if="${not #lists.isEmpty(proveedores)}">
            <h2>Proveedores Disponibles para el Rubro <span th:text="${nombreRubro}"></span></h2>
            <ul>
                <li th:each="proveedor : ${proveedores}" th:text="${proveedor.nombre}"></li>
            </ul>
        </div>
        

        <!-- <div th:if="${not #lists.isEmpty(proveedores)}">
            <h2 th:text="'Proveedores para el rubro ' + ${nombreRubro}"></h2>
            <ul>
                <li th:each="proveedor : ${proveedores}" th:text="${proveedor.nombre}"></li>
            </ul>
        </div> -->
        
    </body>
    

    <div class="container">
        <footer th:replace="/fragments/footer :: footer"></footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

</body>

</html>